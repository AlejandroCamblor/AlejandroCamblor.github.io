<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Transcurso del día</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>
  <body>
  <script>
  // A1 — Reutilización: añade movimiento con variables (sin condicionales)

  // Estado del objeto que se moverá (sol)
  let x_s, y_s, v_s, d_s, r_s;
  let x_l, y_l, v_l, d_l, r_l;
  let xc_s, adelanto_s;
  let xc_l, adelanto_l;
  let xG, yG, vyG, sG, cuerda, dG, rG;
  let troncoH, toncoW, S, copaD;
  let xC, vxC, L, H, wheelD;

  function setup() {
    createCanvas(900, 500);

    // Tamaños relativos
    d_s = min(width, height) * 0.2;
    r_s = d_s / 2;
    d_l = width * 0.08;
    r_l = d_l / 2;
    dG = width * 0.07
    rG = dG/2


    // Posición inicial relativa (evita números mágicos)
    x_s = -r_s;              // empieza entrando
    y_s = height * 0.1;   // altura de una 
    x_l = -width-r_l;              // empieza entrando
    y_l = height * 0.3;   // altura de una 
    xG = width * 0.1;
    yG = height;
    sG = 0.08 * height;
    cuerda = 1.2 * sG;
    xC = -width
    yC = 0.9 * height
    vxC = width/700
      
    

    // Velocidad relativa al ancho
    v_s = width / 1000;
    v_l= width / 1000;
    vyG= width / 800;
    
    // Adelantos (por delante del astro)
    adelanto_s = width * 0.10; // 10% del ancho
    adelanto_l = width * 0.10;
    // Posiciones relativas de los cielos
    x_cs = (x_s-width*0.3) + adelanto_s/20;
    x_cl = (x_l-width*0.3) + adelanto_l/20;
    // Variables árbol
    S = 0.1 * height;
    troncoH = 1.2 * S;
    troncoW = 0.3 * S;
    copaD = 1.1 * S;
    // Variables coche
    L = 0.12*height;
    H = 0.4*L; 
    wheelD = 0.25*L;
  }

  function draw(){
  createCanvas(400, 400);
  background(135); // cielo azul claro

    //cielo azul
  fill(135, 206, 235);
  noStroke();
  rect(x_cs, 0, width, height); 
     
    //Sol
  fill(255, 204, 0);
  noStroke();
  ellipse(x_s,y_s,d_s);
    
    
  //Arcoíris
  noFill();
  strokeWeight(20);
  stroke(255, 0, 0); arc(250, 400, 600, 300, PI, TWO_PI);
  stroke(255, 127, 0); arc(250, 400, 560, 280, PI, TWO_PI);
  stroke(255, 255, 0); arc(250, 400, 520, 260, PI, TWO_PI);
  stroke(0, 255, 0); arc(250, 400, 480, 240, PI, TWO_PI);
  stroke(0, 0, 255); arc(250, 400, 440, 220, PI, TWO_PI);
  stroke(75, 0, 130); arc(250, 400, 400, 200, PI, TWO_PI);
  stroke(148, 0, 211); arc(250, 400, 360, 180, PI, TWO_PI);
    
    //cielo azul oscuro
  fill(0, 70, 245);
  noStroke();
  rect(x_cl, 0, width, height); 
    
    //luna
  fill((245, 245, 245));
  noStroke();
  ellipse(x_l,y_l,d_l);
    

  //Edificio
  fill(150); // gris
  noStroke();
  rect(63, 80, 225, 300); // edificio principal

  // Ventanas
  fill(173, 216, 230); // azul claro
  stroke(100);
  strokeWeight(2);

  // Planta 1 (más abajo)
  rect(90, 300, 20, 30);
  rect(140, 300, 20, 30);
  rect(190, 300, 20, 30);
  rect(240, 300, 20, 30);

  // Planta 2
  rect(90, 250, 20, 30);
  rect(140, 250, 20, 30);
  rect(190, 250, 20, 30);
  rect(240, 250, 20, 30);

  // Planta 3
  rect(90, 200, 20, 30);
  rect(140, 200, 20, 30);
  rect(190, 200, 20, 30);
  rect(240, 200, 20, 30);

  // Planta 4
  rect(90, 150, 20, 30);
  rect(140, 150, 20, 30);
  rect(190, 150, 20, 30);
  rect(240, 150, 20, 30);

  // Planta 5 (más arriba)
  rect(90, 100, 20, 30);
  rect(140, 100, 20, 30);
  rect(190, 100, 20, 30);
  rect(240, 100, 20, 30);

  //Puerta transparente
  fill(255, 255, 255, 100); //blanco transparente
  stroke(80);
  strokeWeight(3);
  rect(165, 340, 25, 40); // puerta del portal

  //Patio de hierba
  fill(34, 139, 34); // verde
  noStroke();
  rect(0, 380, 400);
    
  // Tronco
  fill(120, 80, 40);
  rect(0.15 * width - 0.5 * troncoW, 0.95 * height - troncoH, troncoW, troncoH);
  // Copa del árbol
  fill(40, 140, 60); 
  circle(0.15 * width, 0.95 * height - troncoH - 0.3 * S, copaD+0.03*x_s);
    
  // Coche
  fill(240, 200, 0); 
  rect(xC - 0.5*L, 0.92*height - 0.85*H, L, H, 0.1*L); 
  fill(40); 
  circle(xC - 0.35*L, 0.9*height + 0.55*H, wheelD); 
  circle(xC + 0.35*L, 0.9*height + 0.55*H, wheelD);  
  
  //Globo
  fill(255, 80, 80); 
  circle(xG, yG, sG); 
  stroke(60);
  line(xG, yG + 0.5 * sG, xG, yG + 0.5 * dG + cuerda);
 
 
    // Rotulito
    fill(0);
    textSize(10);
    textAlign(LEFT, TOP);
    text("A1 — Mi escena con variables (estado+movimiento simple, sin wrap)", 10, 10);

  //Movimiento (variables) 
  x_s  = x_s  + v_s;
  x_cs = x_cs + v_s; 

  x_l  = x_l  + v_l;
  x_cl = x_cl + v_l; 
    
  yG = yG - vyG;
  xG = xG + vyG/2;
    
  xC = xC + vxC;
    
  S = S + 0.00008 * height;
  
    
  }
  </script>
  </body>

</html>



