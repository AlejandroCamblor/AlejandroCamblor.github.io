<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>A1 — Mi escena con variables</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.9.0/p5.min.js"></script>
  </head>
  <body>
  <script>
  // A1 — Reutilización: añade movimiento con variables (sin condicionales)

  // Estado del objeto que se moverá (sol)
  let x, y, v, d, r, s; 

  function setup() {
    createCanvas(900, 500);

    //Tamaños relativos
    d = min(width, height) * 0.2;
    r = d / 2;

    //Posición inicial relativa (evita números mágicos)
    x = -r;              // empieza entrando
    y = height * 0.1;   // altura de una 

    //Velocidad relativa al ancho
    v = width / 1000;
    s= width / 500;
  }

  function draw(){
  createCanvas(400, 400);
  background(135, 206, 235); // cielo azul claro

    
     //Sol
  fill(255, 204, 0);
  noStroke();
  ellipse(x,y,d);
    
    //Movimiento (variables) 
    x = x + v; 

  //Arcoíris
  noFill();
  strokeWeight(20);
  stroke(255, 0, 0); arc(250, 400, 600, 300, PI, TWO_PI);
  stroke(255, 127, 0); arc(250, 400, 560, 280, PI, TWO_PI);
  stroke(255, 255, 0); arc(250, 400, 520, 260, PI, TWO_PI);
  stroke(0, 255, 0); arc(250, 400, 480, 240, PI, TWO_PI);
  stroke(0, 0, 255); arc(250, 400, 440, 220, PI, TWO_PI);
  stroke(75, 0, 130); arc(250, 400, 400, 200, PI, TWO_PI);
  stroke(148, 0, 211); arc(250, 400, 360, 180, PI, TWO_PI);

  //Edificio
  fill(150); // gris
  noStroke();
  rect(63, 80, 225, 300); // edificio principal

  // Ventanas
  fill(173, 216, 230); // azul claro
  stroke(100);
  strokeWeight(2);

  // Planta 1 (más abajo)
  rect(90, 300, 20, 30);
  rect(140, 300, 20, 30);
  rect(190, 300, 20, 30);
  rect(240, 300, 20, 30);

  // Planta 2
  rect(90, 250, 20, 30);
  rect(140, 250, 20, 30);
  rect(190, 250, 20, 30);
  rect(240, 250, 20, 30);

  // Planta 3
  rect(90, 200, 20, 30);
  rect(140, 200, 20, 30);
  rect(190, 200, 20, 30);
  rect(240, 200, 20, 30);

  // Planta 4
  rect(90, 150, 20, 30);
  rect(140, 150, 20, 30);
  rect(190, 150, 20, 30);
  rect(240, 150, 20, 30);

  // Planta 5 (más arriba)
  rect(90, 100, 20, 30);
  rect(140, 100, 20, 30);
  rect(190, 100, 20, 30);
  rect(240, 100, 20, 30);

  //Puerta transparente
  fill(255, 255, 255, 100); //blanco transparente
  stroke(80);
  strokeWeight(3);
  rect(165, 340, 25, 40); // puerta del portal

  //Patio de hierba
  fill(34, 139, 34); // verde
  noStroke();
  rect(0, 380, 400);
    
  fill(240, 200, 0);
  rect(x - d, y*5.5 , d*2, d*0.8, d*0.1); // carrocería
  fill(40);
  circle(x - d*0.6, y + d*3.15, d*0.5);
  circle(x + d*0.6, y + d*3.15, d*0.5);
    
    x = x+ s;

    // Rotulito
    fill(0);
    textSize(10);
    textAlign(LEFT, TOP);
    text("A1 — Mi escena con variables (estado+movimiento simple, sin wrap)", 10, 10);
  }
  </script>
  </body>
</html>